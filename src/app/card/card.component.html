<div class="bg-white rounded-3xl p-12 shadow-2xl text-center w-full relative overflow-visible font-sans" style="max-width: 45rem;">
  <!-- Floating Hearts -->
  <div class="text-4xl mb-5 animate-float">
    <span class="inline-block mx-2">💕</span>
    <span class="inline-block mx-2 text-5xl animate-pulse-heart">💖</span>
    <span class="inline-block mx-2">💕</span>
  </div>
  
  @if (!answered()) {
    <!-- Question State -->
    <h1 class="text-3xl font-bold text-pink-600 mb-4 tracking-wide">
      ბეიბ, იქნები ჩემი სამარადჟამო სიყვარული? 💖
    </h1>
    <p class="text-gray-500 text-lg mb-8">
      როგორც კოტე ყუბანეიშილი იტყოდა, მეფეების და ვალენტინების დდშვც...
    </p>
    
    <div class="flex gap-5 justify-center items-center min-h-16 relative">
      <button 
        type="button"
        class="px-10 py-4 text-xl font-bold text-white bg-gradient-to-br from-pink-400 to-pink-600 rounded-full shadow-lg shadow-pink-500/40 hover:scale-110 hover:shadow-xl hover:shadow-pink-500/50 transition-all duration-200 select-none cursor-pointer"
        (click)="onYes()"
        (mouseenter)="resetNoToStart()">
        კი! 💝
      </button>
      <button 
        #noBtn
        type="button"
        class="px-10 py-4 text-xl font-bold text-gray-600 bg-gray-100 rounded-full shadow-md hover:bg-gray-200 transition-all duration-200 select-none z-10 cursor-pointer whitespace-nowrap"
        [class.fixed]="noPosition().position === 'fixed'"
        [class.relative]="noPosition().position === 'relative'"
        [style.left.px]="noPosition().position === 'fixed' ? noPosition().left : null"
        [style.top.px]="noPosition().position === 'fixed' ? noPosition().top : null"
        (mouseenter)="escapeButton()"
        (touchstart)="escapeButton()"
        (click)="onNo()">
        {{ noButtonText() }}
      </button>
    </div>
  } @else {
    @if (saidYes()) {
      <!-- Success State -->
      <div class="relative animate-bounce-in">
        <h1 class="text-4xl font-bold text-pink-600 mb-4">
          იუჰუუუ! 🎉💕
        </h1>
        <p class="text-xl text-gray-600 leading-relaxed mt-5">
          სხვა რამეს, უბრალოდ არც ვფიქრობდი! 💖
        </p>
        
        <!-- Confetti -->
        <div class="absolute -top-5 left-1/2 -translate-x-1/2 w-full">
          @for (i of confettiPieces; track i) {
            <span 
              class="absolute text-2xl animate-fall"
              [style.animation-delay]="i * 0.1 + 's'"
              [style.left]="getRandomX()">
              🎊
            </span>
          }
        </div>
      </div>
    } @else {
      <!-- Rejection State -->
      <div class="animate-fade-in-up">
        <h1 class="text-3xl font-bold text-pink-600 mb-4">
          ვთფფ... 💔
        </h1>
        <p class="text-xl text-gray-600 leading-relaxed mt-5">
          ბეიბბბბბბბ... დარმწუნებული ხარ?..
        </p>
        <button 
          type="button"
          class="mt-6 px-10 py-4 text-xl font-bold text-white bg-gradient-to-br from-pink-400 to-pink-600 rounded-full shadow-lg hover:scale-105 transition-all duration-200 cursor-pointer"
          (click)="reset()">
          თავიდან სცადე
        </button>
      </div>
    }
  }
</div>
